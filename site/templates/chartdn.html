<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a Chart</title>
  <!-- Font Awesome -->
  <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css">-->
  <!-- Your custom styles (optional) -->
  
  <link href="../css/dragula.min.css" rel="stylesheet">
  <!--<link href="css/mygrid.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href="css/kanban.css" rel="stylesheet">-->
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css">

    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">

    <link rel="stylesheet" href="../css/mainstyle.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.xkcd@1.1/dist/chart.xkcd.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<style>
.sectionpart {
	border: 1px solid black;
}
</style>

</head>

<body>
   <!--<div class="header">
	  <a href="index.html" class="logo"><img src="img/logo.png" style="max-width: 150px; vertical-align:middle;"/></a>
	  <a href="documentation.html" class="button" style="background: rgba(245, 238, 236,0);">Browse</a>
	  <a href="upload.html" class="button" style="background: rgba(245, 238, 236,0);">My Charts</a>
	  <a href="baseball.html" class="button" style="background: rgba(245, 238, 236,0);">New Chart</a>
	</div>-->
  <div class="header">
    <div class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed">
        <a class="pure-menu-heading" href="">ChartDN</a>

        <ul class="pure-menu-list">
            <li class="pure-menu-item"><a href="/new" class="pure-menu-link">New Chart</a></li>
            <li class="pure-menu-item"><a href="/browse" class="pure-menu-link">Browse Charts</a></li>
            <li class="pure-menu-item"><a href="/login" class="pure-menu-link">Log In</a></li>
            <li class="pure-menu-item"><a href="/register" class="pure-menu-link">Register</a></li>
        </ul>
    </div>
  </div>
  <div class="content-wrapper">
    <div class="content">
    	<div class="pure-g">
			<div class="l-box pure-u-1-4 sectionpart">
					<b>Data Source</b>
					<form class="pure-form-stacked">
							<label>
								<input type="radio" name="dataSourceType" onchange="dst()" value="File" checked>Upload File (csv or Excel)
							</label>
							<label>
								<input type="radio" name="dataSourceType" onchange="dst()" value="Copy">Copy/Paste
							</label>
							<label>
								<input type="radio" name="dataSourceType" onchange="dst()" value="Url">URL
							</label>
							<div class="l-box pure-u-1">
					
								<input type="file" name="dataFile" id="dataFile"></input>
								<div id="dropArea">

								</div>
								<textarea rows="7" name="dataCopy" id="dataCopy" oninput="dataChg()" onchange="dataChg()">{{ dataAreaText }}</textarea>
								<input type="text" name="dataUrl" id="dataUrl" onchange="urlChg()"></input>

							</div>
							<label for="nHeaders">Header Rows
								<input type="number" value="{{ nHeaders | default(1) }}" name="nHeaders" id="nHeaders" onchange="headerChg()">
							</label>
							<label for="delimiter">Delimiter
								<input type="text" value="," name="delimiter" id="delimiter" onchange="delimiterChg()">
							</label>
					</form>
			</div>
			<div class="l-box pure-u-3-4 sectionpart">
				<div id="dataTableHolder" class="flex-center flex-column">
					<table id="dataTable" class="striped hoverable"></table>
				</div>
			</div>
			<div class="l-box pure-u-1-2 sectionpart">
				<form class="pure-form">
					<fieldset>
						<b>Create Chart</b>
						<div class="row">
							<div class="col-sm-12">
									<input type="radio" name="chartType" onchange="typeChg()" value="line" {{ isChecked['line'] }}>Line</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="bar" {{ isChecked['bar'] }}>Bar</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="scatter" {{ isChecked['scatter'] }}>Scatter</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="pie" {{ isChecked['pie'] }}>Pie</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="bubble" {{ isChecked['bubble'] }}>Bubble</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="histogram" {{ isChecked['histogram'] }}>Histogram</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="heatmap" {{ isChecked['heatmap'] }}>Heatmap</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="radar" {{ isChecked['radar'] }}>Radar</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="box" {{ isChecked['box'] }}>Box</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="choropleth" {{ isChecked['choropleth'] }}>Choropleth</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="splom" {{ isChecked['splom'] }}>Splom</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="diff" {{ isChecked['diff'] }}>Diff</input>
									<input type="radio" name="chartType" onchange="typeChg()" value="calendar" {{ isChecked['calendar'] }}>Calendar</input>
							</div>
						</div>
						<div class="pure-g" id="lineOptions">
							<div class="l-box pure-u-1-3" id="xColumn">
								<span>x-axis Column</span>
							</div>
							<div class="l-box pure-u-1-3" id="allColumns" style="max-height: 20rem; overflow: scroll;">
								<span>Columns w/ column head/index and data type: number (format), date, percent</span>
							</div>
							<div class="l-box pure-u-1-3" id="yColumns">
								<span>y-axis Column(s)</span>
							</div>
							<div style="display: none;">
								<input type="number" name="xColumn" id="xColVal" value="{{ xColumn }}"></input>
								<input type="text" name="yColumns" id="yColsVal" value="{{ yColumns }}"></input>
							</div>
						
						</div>
					</fieldset>
				</form>
					
			</div>	
			<div class="l-box pure-u-1-2 sectionpart">
				<form class="pure-form">
					<fieldset>
						<b>Filter Data</b>
						<div class="row">
							Blank cells: Skip or 0
							x-scale: linear, log, seq
							y-scale: linear, log
							Filter only max, etc. Drag/drop filters to use.
							<input type="checkbox" name="filter" id="test" onchange="filterChg()">Test</input>
						</div>
					</fieldset>
				</form>
			</div>
					  
			<div class="l-box pure-u-1 sectionpart">
				<form class="pure-form-stacked">
						<b>Customize Chart</b><br />
						<div class="pure-g">
							<div class="pure-u-1-3">
									Title: <input type="text" name="title" onchange="optionsChg('title')" placeholder="notitle" value="{{ title }}"/>
									X Axis Title: <input type="text" name="xaxistitle" placeholder="notitle"/>
									Y Axis Title: <input type="text" name="yaxistitle" placeholder="notitle"/>
							</div>
							<div class="pure-u-1-3">
									Line Color(s): <input type="text" name="lineColor" placeholder="default"/>
									Dot Color(s): <input type="text" name="dotColor" placeholder="default"/>

							</div>
							<div class="pure-u-1-3">
										Step Size: <span class="icon-help"></span>
										x:<input type="text" name="stepSizeX" onchange="optionsChg('stepSizeX')" placeholder="default"/>
										y:<input type="text" name="stepSizeY" onchange="optionsChg('stepSizeY')" placeholder="default"/>

							</div>
							<div class="pure-u-1">
										<input type="radio" name="curveType" value="default" checked>Default</input>
										<input type="radio" name="curveType" value="smooth">Smooth</input>
										<input type="radio" name="curveType" value="sharp">Sharp</input>
							</div>
							<div class="pure-u-1">
										<input type="radio" name="shareChart" onchange="shareChg()" value="Svg" checked>SVG</input>
										<input type="radio" name="shareChart" onchange="shareChg()" value="Code">Code</input>
										<input type="radio" name="shareChart" onchange="shareChg()" value="Url">URL</input>
										<input type="radio" name="shareChart" onchange="shareChg()" value="Embed">Embed</input>

							</div>
						</div>
				</form>
			</div>
				
			<div class="l-box pure-u-1-2" style="border: 1px solid black;">
				<chartdn-chart type="chartJS"></chartdn-chart>
			</div>
			<div class="l-box pure-u-1-2" style="border: 1px solid black;">
				<chartdn-chart type="plotly"></chartdn-chart>
			</div>
			<div class="l-box pure-u-1-2" style="border: 1px solid black;">
				<chartdn-chart type="XKCD"></chartdn-chart>
			</div>
			<div class="l-box pure-u-1-2" style="border: 1px solid black;">
				<chartdn-chart type="google"></chartdn-chart>
			</div>
			<div class="l-box pure-u-1-2" style="border: 1px solid black;">
				Pgfplots
				<div class="chart-container" style="position: relative;">
					<!--<object data="test4.svg" type="image/svg+xml"></object>-->
				</div>
			</div>
		</div>
    </div>	
      	
  </div>
  <script>var username = "{{ username }}"; var chartid = "{{ chartid }}"; var dataid = "{{ dataid }}"; var chartidtemp = "{{ chartidtemp }}";</script>
  <script src="https://unpkg.com/wasm-flate@0.1.11-alpha/dist/bootstrap.js"></script>
  <script src="../js/upload.js"></script>
  <script src="../js/dragula.min.js"></script>
  <script src="../js/papaparse.min.js"></script>
  <script src="../js/chartdn.js"></script>
  <script src="../js/chartdnelements.js"></script>
  
  
  {{ chartScript }}

</body>

</html>
